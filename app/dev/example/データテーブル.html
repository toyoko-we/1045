<!doctype html>
 <html>
  <head>
    <link href='/module/ui/semantic/all-prefix.2.4.2.min.css' rel='stylesheet'>
    <meta content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no' name='viewport'>
    <script src='/module/core/vue/2.6.10.min.js'></script>
    <script src='/module/core/vue/plugin/http-vue-loader/1.4.0.min.js'></script>
    <script src='/module/core/lodash/4.17.12.min.js'></script>
    <script>
      document.addEventListener('DOMContentLoaded',function(){

        Vue.use(VueLoader)
        new Vue({
          el:'#data-table',
          components:[
            'url:/component/form/data-table.vue'
          ],
          data:{
            src:[],
            selectedIndex:null
          },
          methods:{
            sideRule:function(row){
              return row.info.side
            },
            taskRule:function(key,data){
              return {
                zero:     data == 0,
                mask:     data >= 19
              }
            },
            selectRow:function(row){
              this.selectedIndex = row.info.index
            }
          },
          created:function(){
            
            this.src = _.map(_.times(26),function(o,i){
              return {
                list:i % 13 + 2,
                name:'・ω・',
                bath: _.random(0, 50),
                bed:  _.random(0, 50),
                check:_.random(0, 50),
                info:{
                  index:i,
                  side:i > 12 ? 'indiv' : 'group',
                  rooms:i > 12 ? 38 : 39
                }
              }
            })

          }
        })

      })
   </script>
    <style>
      i.icon.name:before  {content:'\f007';}

      .data-table.ui tr.selected{background-color:rgba(0,0,0,.05);}
      .data-table.ui tr.group td:first-child{color:rgba(0,128,0,1);}
      .data-table.ui tr.indiv td:first-child{color:rgba(255,165,0,1);}
      .data-table.ui td.mask{color:rgba(40,40,40,.3);}
      .data-table.ui td.zero{color:transparent;}

   </style>
</head>
 <body>
   <div id='data-table'>
      <data-table
      :rows='src'
      :keys="['name','list','bed','bath','check']"
      :row-class='sideRule'
      :cell-class='taskRule'
      @selection-changed='selectRow'>
     </data-table>
  </div>
</body>
</html>