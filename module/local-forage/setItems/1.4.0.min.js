!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("localforage")):"function"==typeof define&&define.amd?define(["exports","localforage"],t):t(e.localforageRemoveItems=e.localforageRemoveItems||{},e.localforage)}(this,function(e,t){"use strict";function u(e,t){return t&&e.then(function(e){t(null,e)},function(e){t(e)}),e}function n(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];n.push(this.removeItem(i))}var a=Promise.all(n);return u(a,t),a}function r(c,e){var l=this,t=l.ready().then(function(){return new Promise(function(e,n){var r,t=l._dbInfo,o=t.db.transaction(t.storeName,"readwrite"),i=o.objectStore(t.storeName);function a(e){var t=e.target||this;r||(r=t.error||t.transaction.error,n(r))}o.oncomplete=function(){e()},o.onabort=o.onerror=function(){r||n(o.error||"Unknown error")};for(var u=0,f=c.length;u<f;u++){var s=c[u];"string"!=typeof s&&(console.warn(s+" used as a key, but it is not a string."),s=String(s)),i.delete(s).onerror=a}})});return u(t,e),t}function c(t,r,o){return new Promise(function(e,n){t.executeSql(r,o,function(){e()},function(e,t){n(t)})})}function o(s,e){var t=this,n=t.ready().then(function(){return new Promise(function(a,u){var f=t._dbInfo;f.db.transaction(function(e){for(var t=f.storeName,n=[],r=0,o=s.length;r<o;r++){var i=s[r];"string"!=typeof i&&(console.warn(i+" used as a key, but it is not a string."),i=String(i)),n.push(c(e,"DELETE FROM "+t+" WHERE key = ?",[i]))}Promise.all(n).then(a,u)},function(e){u(e)})})});return u(n,e),n}function i(){var e=this,t=e.driver();return t===e.INDEXEDDB?r.apply(e,arguments):t===e.WEBSQL?o.apply(e,arguments):n.apply(e,arguments)}function a(e){var t=Object.getPrototypeOf(e);t&&(t.removeItems=i,t.removeItems.indexedDB=function(){return r.apply(this,arguments)},t.removeItems.websql=function(){return o.apply(this,arguments)},t.removeItems.generic=function(){return n.apply(this,arguments)})}var f=a(t="default"in t?t.default:t);e.localforageRemoveItems=i,e.extendPrototype=a,e.extendPrototypeResult=f,e.removeItemsGeneric=n,Object.defineProperty(e,"__esModule",{value:!0})});